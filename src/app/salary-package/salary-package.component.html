<mat-card class="container">
  <h2 class="title">ğŸ“Š Gehaltspaket Konfigurator</h2>
  <p class="description">
    Passen Sie Ihr Gehaltspaket an und sehen Sie sofort, wie sich Ihr Netto-Gehalt verÃ¤ndert.
    WÃ¤hlen Sie Ihr Grundgehalt, Steuerklasse, Urlaubstage und weitere Optionen.
  </p>

  <div class="form-grid">
    <!-- Grundgehalt -->
    <mat-form-field appearance="fill">
      <mat-label>ğŸ“Œ Grundgehalt (Brutto â‚¬)</mat-label>
      <input matInput type="number" [(ngModel)]="baseSalary" (ngModelChange)="updateSalary()">
      <mat-hint>JÃ¤hrliches Bruttogehalt vor AbzÃ¼gen.</mat-hint>
    </mat-form-field>

    <!-- Steuerklasse Auswahl -->
    <mat-form-field appearance="fill">
      <mat-label>ğŸ› Steuerklasse</mat-label>
      <mat-select [(ngModel)]="selectedTaxClass" (ngModelChange)="updateSalary()">
        <mat-option *ngFor="let taxClass of [1, 2, 3, 4, 5, 6]" [value]="taxClass">
          Steuerklasse {{ taxClass }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Urlaubstage -->
    <mat-form-field appearance="fill">
      <mat-label>ğŸ–ï¸ Urlaubstage</mat-label>
      <input matInput type="number" [(ngModel)]="vacationDays" (ngModelChange)="updateSalary()">
      <mat-hint>Standard: 28 Tage. Ab 30 Tagen Abzug von 150 â‚¬ pro Tag.</mat-hint>
    </mat-form-field>

    <!-- Arbeitsstunden -->
    <mat-form-field appearance="fill">
      <mat-label>â³ Arbeitsstunden pro Woche</mat-label>
      <input matInput type="number" [(ngModel)]="workingHours" (ngModelChange)="updateSalary()">
      <mat-hint>Standard: 40 Stunden. Weniger Stunden = GehaltskÃ¼rzung.</mat-hint>
    </mat-form-field>

    <!-- Ãœberstunden -->
    <mat-form-field appearance="fill">
      <mat-label>ğŸ”¥ Ãœberstunden pro Monat</mat-label>
      <input matInput type="number" [(ngModel)]="overtimeHours" (ngModelChange)="updateSalary()">
      <mat-hint>Standard: 30 â‚¬ pro Stunde.</mat-hint>
    </mat-form-field>

    <!-- Bonus -->
    <mat-form-field appearance="fill">
      <mat-label>ğŸ Leistungsbonus (â‚¬)</mat-label>
      <input matInput type="number" [(ngModel)]="performanceBonus" (ngModelChange)="updateSalary()">
      <mat-hint>Individuelle Bonuszahlungen pro Monat.</mat-hint>
    </mat-form-field>

    <!-- Firmenwagen -->
    <mat-checkbox [(ngModel)]="companyCar" (ngModelChange)="updateSalary()"><span id="check">ğŸš— Firmenwagen nutzen?</span></mat-checkbox>
    <mat-hint>Firmenwagen reduziert das Gehalt um 500 â‚¬.</mat-hint>

    <!-- JobRad -->
    <mat-checkbox [(ngModel)]="jobBike" (ngModelChange)="updateSalary()"><span id="check">ğŸš² JobRad nutzen?</span></mat-checkbox>
    <mat-hint>JobRad reduziert das Gehalt um 50 â‚¬.</mat-hint>
  </div>

  <!-- Gehaltsberechnung -->
  <mat-card class="summary">
    <h3>ğŸ“Œ Gehaltsberechnung</h3>
    <p><strong>Brutto-Gehalt:</strong> {{ baseSalary | currency:'EUR':'symbol' }}    </p>
    <p><strong>- SteuerabzÃ¼ge:</strong> {{ taxAmount | currency:'EUR':'symbol' }}</p>
    <p><strong>- UrlaubskÃ¼rzung:</strong> {{ getVacationPenalty() | currency:'EUR':'symbol' }}</p>
    <p><strong>- Teilzeit-Abzug:</strong> {{ getHoursPenalty() | currency:'EUR':'symbol' }}</p>
    <p><strong>+ Extra-Arbeitsstunden Bonus:</strong> {{ getExtraHoursBonus() | currency:'EUR':'symbol' }}</p>    
    <p><strong>+ ÃœberstundenvergÃ¼tung:</strong> {{ getOvertimeBonus() | currency:'EUR':'symbol' }}</p>
    <p><strong>- Firmenwagen-Abzug:</strong> {{ companyCar ? '-800 â‚¬' : '0 â‚¬' }}</p>
    <p><strong>- JobRad-Abzug:</strong> {{ jobBike ? '-50 â‚¬' : '0 â‚¬' }}</p>
    <p><strong>+ Bonus:</strong> {{ performanceBonus | currency:'EUR':'symbol' }}</p>
  </mat-card>

  <!-- Netto-Gehalt -->
  <mat-card class="net-salary">
    <h3>ğŸ’¶ Netto-Gehalt:</h3>
    <h2>ğŸ“… Pro Monat: <strong>{{ netSalary / 12 | currency:'EUR':'symbol' }}</strong></h2>
    <h2>ğŸ“† Pro Jahr: <strong>{{ netSalary | currency:'EUR':'symbol' }}</strong></h2>
  </mat-card>

  <!-- Speicher- und Export-Optionen -->
  <mat-card class="export-container">
    <h2>ğŸ’¾ Speichern & Exportieren</h2>

    <button mat-raised-button color="primary" (click)="savePackage()">ğŸ“„Speichern als JSON (VerschlÃ¼sselt)</button>
    <button mat-raised-button color="accent" (click)="exportToPDF()">ğŸ’¾ Kopie als PDF speichern (Nicht VerschlÃ¼sselt ! )</button>
    <button mat-raised-button color="primary" (click)="exportDocumentationToPDF()">â„¹ï¸ Dokumentation als PDF speichern</button>

    <!-- Datei hochladen in einer Material-Karte -->
    <mat-card class="upload-container">
      <h3>ğŸ“‚ Gehaltspaket laden (VerschlÃ¼sselt)</h3>
      <p>Laden Sie eine gespeicherte JSON-Datei hoch, um Ihre Daten wiederherzustellen.</p>
      <input type="file" (change)="loadPackageFromFile($event)">
    </mat-card>
  </mat-card>
</mat-card>
